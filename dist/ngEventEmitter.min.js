angular.module("EventEmitter",[]).service("EventEmitter",[function(){function a(){this._events={}}var b=Array.isArray;a.prototype.on=a.prototype.addListener=function(a,c){if("function"!=typeof c)throw new Error("addListener only takes instances of Function");return this.emit("newListener",a,"function"==typeof c.listener?c.listener:c),this._events[a]?b(this._events[a])?this._events[a].push(c):this._events[a]=[this._events[a],c]:this._events[a]=c,this},a.prototype.once=function(a,b){function c(){d.removeListener(a,c),b.apply(this,arguments)}if("function"!=typeof b)throw new Error(".once only takes instances of Function");var d=this;return c.listener=b,d.on(a,c),this},a.prototype.removeListener=function(a,c){if("function"!=typeof c)throw new Error("removeListener only takes instances of Function");if(!this._events[a])return this;var d=this._events[a];if(b(d)){for(var e=-1,f=0,g=d.length;g>f;f++)if(d[f]===c||d[f].listener&&d[f].listener===c){e=f;break}if(0>e)return this;d.splice(e,1),0===d.length&&delete this._events[a]}else(d===c||d.listener&&d.listener===c)&&delete this._events[a];return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(a){return 0===arguments.length?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},a.prototype.listeners=function(a){return this._events[a]||(this._events[a]=[]),b(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},a.prototype.emit=function(a){var c,d,e=this._events[a];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,args=new Array(d-1),c=1;d>c;c++)args[c-1]=arguments[c];e.apply(this,args)}return!0}if(b(e)){for(args=new Array(arguments.length-1),c=1,d=arguments.length;d>c;c++)args[c-1]=arguments[c];var f=e.slice();for(c=0,d=f.length;d>c;c++)f[c].apply(this,args);return!0}return!1}}]),angular.module("ngEventEmitter",["EventEmitter"]);